{"version":3,"sources":["images/logo.svg","images/tickIcon.svg","images/crossIcon.svg","components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/ImagePopup.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/ProtectedRoute.js","components/Login.js","components/Register.js","components/InfoTooltip.js","utils/api.js","utils/authApi.js","components/App.js","index.js"],"names":["module","exports","__webpack_require__","p","Header","_ref","isLoggedIn","logOut","email","location","useLocation","path","pathname","headerLink","React","createElement","className","Link","to","src","logo","alt","Fragment","onClick","CurrentUserContext","createContext","Card","props","currentUser","useContext","isOwn","card","owner","_id","isLiked","likes","some","i","link","name","onCardClick","type","aria-label","onCardDelete","concat","onCardLike","Main","cards","onEditProfile","onAddPlace","onEditAvatar","avatar","about","map","key","length","Footer","ImagePopup","id","isOpen","onClose","PopupWithForm","title","formID","onSubmit","children","btnText","EditProfilePopup","onUpdateUser","_useState","useState","_useState2","_slicedToArray","setName","_useState3","_useState4","description","setDescription","useEffect","e","preventDefault","htmlFor","placeholder","minLength","maxLength","required","value","onChange","target","EditAvatarPopup","onUpdateAvatar","avatarRef","useRef","current","ref","AddPlacePopup","placeName","setPlaceName","placeLink","setPlaceLink","ProtectedRoute","Component","element","_objectWithoutProperties","Navigate","replace","Login","onLogin","setEmail","password","setPassword","Register","onRegister","InfoTooltip","isAuthorized","tickIcon","crossIcon","api","Api","options","_classCallCheck","this","_url","baseUrl","_headers","headers","_createClass","res","ok","json","Promise","reject","status","_this","fetch","method","Content-Type","authorization","localStorage","getItem","then","_handleServerResponse","_this2","profileInputsData","_this3","body","JSON","stringify","_this4","cardId","_this5","avatarLink","_this6","_this7","console","log","_this8","_this9","authApi","AuthApi","authURL","token","Authorization","App","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","_useState5","_useState6","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","_useState7","_useState8","isImagePopupOpen","setIsImagePopupOpen","_useState9","_useState10","selectedCard","setSelectedCard","_useState11","_useState12","setCards","_useState13","_useState14","setCurrentUser","_useState15","_useState16","isTooltipPopupOpen","setIsTooltipPopupOpen","_useState17","_useState18","setIsLoggedIn","_useState19","_useState20","_useState21","_useState22","setIsAuthorized","navigate","useNavigate","existingToken","checkToken","catch","err","all","getUserData","getInitialCards","_ref2","userData","closeAllPopups","isAnyPopupOpen","handleEscClose","document","addEventListener","removeEventListener","handleOverlayClose","classList","contains","Provider","removeItem","Routes","Route","exact","_objectSpread","changeLikeCardStatus","newCard","state","c","deleteCard","filter","register","authorize","setItem","sendUserData","_ref3","addNewCard","_toConsumableArray","noValidate","sendAvatarLink","ReactDOM","createRoot","getElementById","render","StrictMode","BrowserRouter"],"mappings":"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","file":"static/js/main.80c240cf.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/logo.22335927.svg\";","module.exports = __webpack_public_path__ + \"static/media/tickIcon.7fc4c149.svg\";","module.exports = __webpack_public_path__ + \"static/media/crossIcon.c32299fa.svg\";","import { Link, useLocation } from 'react-router-dom'\r\nimport logo from '../images/logo.svg'\r\nimport React from \"react\"\r\n\r\nfunction Header ({isLoggedIn, logOut, email}) {\r\n  const location = useLocation()\r\n  const path = (location.pathname === \"/sign-in\") ? \"/sign-up\" : \"/sign-in\"\r\n  const headerLink = (location.pathname === \"/sign-in\") ? \"Регистрация\" : \"Войти\"\r\n  const rootPath = '/'\r\n\r\n  return (\r\n    <header className=\"header\">\r\n      <Link className=\"header__link\" to={rootPath}>\r\n        <img className=\"header__logo\" src={logo} alt=\"логотип проекта 'Место'\"/>\r\n      </Link>\r\n\r\n      <div className=\"header__auth\">\r\n        {/*if authorized, render below*/}\r\n        {isLoggedIn ? (\r\n          <>\r\n            <p className=\"header__link\">{email}</p>\r\n            <Link className=\"header__link\"  to='/sign-in' onClick={logOut}>Выйти</Link>\r\n          </>\r\n        ) : (\r\n            <Link className=\"header__link\" to={path}>{headerLink}</Link>\r\n        )}\r\n      </div>\r\n    </header>\r\n  )\r\n}\r\n\r\nexport default Header","// eslint-disable-next-line\r\nimport React, { createContext } from 'react'\r\n\r\nexport const CurrentUserContext = createContext()\r\n","import React, {useContext} from 'react'\r\nimport {CurrentUserContext} from '../contexts/CurrentUserContext'\r\n\r\nfunction Card (props) {\r\n  // to subscribe to context\r\n  const currentUser = useContext(CurrentUserContext)\r\n  // Определяем, являемся ли мы владельцем текущей карточки\r\n  const isOwn = props.card.owner === currentUser._id\r\n  // Определяем, есть ли у карточки лайк, поставленный текущим пользователем\r\n  const isLiked = props.card.likes.some(i => i === currentUser._id)\r\n\r\n  function handleClick() {props.onCardClick(props.card)}\r\n  function handleLikeClick() {props.onCardLike(props.card)}\r\n  function handleDeleteClick() {props.onCardDelete(props.card)}\r\n\r\n  return (\r\n    <li className=\"element\" >\r\n      <img className=\"element__image\" src={props.link} alt={props.name} onClick={handleClick}/>\r\n      {isOwn && <button className=\"element__trash\" type=\"button\" aria-label=\"удалить фотографию\"\r\n                        onClick={handleDeleteClick} />}\r\n      <div className=\"element__description\">\r\n        <h2 className=\"element__title\">{props.name}</h2>\r\n        <div className=\"element__likes\">\r\n          <button className={ `element__like ${ isLiked ? 'element__like_active' : '' }` } type=\"button\"\r\n                  aria-label=\"поставить лайк\" onClick={handleLikeClick}></button>\r\n          <p className=\"element__likes-counter\">{props.likes}</p>\r\n        </div>\r\n      </div>\r\n    </li>\r\n  )\r\n}\r\n\r\nexport default Card","import React from \"react\"\r\nimport Card from './Card'\r\nimport {CurrentUserContext} from '../contexts/CurrentUserContext'\r\n\r\nfunction Main({cards, onEditProfile, onAddPlace, onEditAvatar, onCardClick, onCardLike, onCardDelete}) {\r\n  // to subscribe to context\r\n  const currentUser = React.useContext(CurrentUserContext)\r\n\r\n  return (\r\n    <main className=\"main\">\r\n      {/*  Section profile  */}\r\n      <section className=\"profile\" aria-label=\"Профиль пользователя\">\r\n        <div className=\"profile__avatar-zone\">\r\n          <img className=\"profile__avatar-image\" src={currentUser.avatar} alt=\"Аватар пользователя\"/>\r\n          <button className=\"profile__avatar-edit-btn\" type=\"button\" aria-label=\"Редактировать аватар\"\r\n                  onClick={onEditAvatar}/>\r\n        </div>\r\n        <div className=\"profile__info\">\r\n          <h1 className=\"profile__name\">{currentUser.name}</h1>\r\n          <button className=\"profile__edit-btn\" type=\"button\" aria-label=\"Редактировать профиль\"\r\n                  onClick={onEditProfile}/>\r\n          <p className=\"profile__description\">{currentUser.about}</p>\r\n        </div>\r\n        <button className=\"profile__add-btn\" type=\"button\" aria-label=\"Добавить фотографию\"\r\n                onClick={onAddPlace}/>\r\n      </section>\r\n      {/*  Section elements  */}\r\n      <section className=\"elements\" aria-label=\"Галерея фотографий интересных мест в России\">\r\n        <div></div>\r\n        <ul className=\"elements-grid\">\r\n          {cards.map((card) => (\r\n            <Card card={card} key={card._id} link={card.link} name={card.name} likes={card.likes.length}\r\n                  onCardClick={onCardClick} onCardLike={onCardLike} onCardDelete={onCardDelete}/>\r\n          ))}\r\n        </ul>\r\n      </section>\r\n    </main>\r\n  )\r\n}\r\n\r\nexport default Main","import React from 'react'\r\n\r\nfunction Footer() {\r\n  return (\r\n    <footer className=\"footer\">\r\n      <p className=\"footer__copyright\">© 2023 Mesto Russia</p>\r\n    </footer>\r\n  )\r\n}\r\n\r\nexport default Footer","import React from 'react'\r\n\r\nfunction ImagePopup ({card, id, isOpen, onClose}) {\r\n  return (\r\n    <div className={`popup popup_dark-overlay ${ isOpen ? 'popup_opened' : ''}`} id={id}>\r\n      <div className=\"popup__container-image\">\r\n        <img className=\"popup__image\" src={card.link}  alt={card.name}/>\r\n        <p className=\"popup__image-caption\">{card.name}</p>\r\n        <button className=\"popup__close-btn\" type=\"button\"  onClick={onClose}/>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default ImagePopup","import React from 'react'\r\n\r\nfunction PopupWithForm(props) {\r\n  return (\r\n    <div className={`popup ${ props.isOpen ? 'popup_opened' : ''}`} id={props.id}>\r\n      <div className=\"popup__container\">\r\n        <button className=\"popup__close-btn\" type=\"button\" onClick={props.onClose}/>\r\n        <h2 className=\"popup__heading\">{props.title}</h2>\r\n        <form className=\"popup__form\" name={props.name} id={props.formID} onSubmit={props.onSubmit}>\r\n          {props.children}\r\n          <button className=\"popup__create-btn popup__save-btn\" type=\"submit\"  // popup__save-btn_disabled\r\n                  aria-label={props.title}>{props.btnText || 'Сохранить'}</button>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default PopupWithForm","import React, {useContext, useEffect, useState} from 'react'\r\nimport PopupWithForm from './PopupWithForm'\r\nimport {CurrentUserContext} from '../contexts/CurrentUserContext'\r\n\r\nfunction EditProfilePopup({isOpen, onClose, onUpdateUser}) {\r\n  const currentUser = useContext(CurrentUserContext)\r\n  const [name, setName] = useState('')\r\n  const [description, setDescription] = useState('')\r\n\r\n  function handleName(e) {setName(e.target.value)}\r\n  function handleDescription(e) {setDescription(e.target.value)}\r\n  function handleSubmit(e) {\r\n    e.preventDefault()\r\n    onUpdateUser({ name: name, about: description })\r\n  }\r\n\r\n  // После загрузки текущего пользователя из API его данные будут использованы в управляемых компонентах.\r\n    useEffect(() => {\r\n      setName(currentUser.name)\r\n      setDescription(currentUser.about)\r\n    }, [currentUser, isOpen])\r\n\r\n  return (\r\n    <PopupWithForm id=\"popup-edit\" name=\"profile-form\" title=\"Редактировать профиль\" formID=\"profile\"\r\n                   btnText = 'Сохранить' isOpen={isOpen} onClose={onClose} onSubmit={handleSubmit}>\r\n      <fieldset className=\"popup__fieldset\">\r\n        <label className=\"popup__label\" htmlFor=\"profile-name\">\r\n          <input\r\n            className=\"popup__input\"\r\n            type=\"text\"\r\n            id=\"profile-name\"\r\n            name=\"name\"\r\n            placeholder=\"ФИО\"\r\n            minLength={2}\r\n            maxLength={40}\r\n            required=\"\"\r\n            value={name || ''}\r\n            onChange={handleName}\r\n          />\r\n          <span className=\"popup__error\" id=\"profile-name-error\"/>\r\n        </label>\r\n        <label className=\"popup__label\" htmlFor=\"profile-description\">\r\n          <input\r\n            className=\"popup__input\"\r\n            type=\"text\"\r\n            id=\"profile-description\"\r\n            name=\"description\"\r\n            placeholder=\"Профессия\"\r\n            minLength={2}\r\n            maxLength={200}\r\n            required=\"\"\r\n            value={description || ''}\r\n            onChange={handleDescription}\r\n          />\r\n          <span className=\"popup__error\" id=\"profile-description-error\"/>\r\n        </label>\r\n      </fieldset>\r\n    </PopupWithForm>\r\n  )\r\n}\r\n\r\nexport default EditProfilePopup","import React, {useRef, useEffect} from \"react\"\r\nimport PopupWithForm from \"./PopupWithForm\"\r\n\r\nfunction EditAvatarPopup({isOpen, onClose, onUpdateAvatar}) {\r\n  const avatarRef = useRef()\r\n\r\n  useEffect(() => {avatarRef.current.value = ''}, [isOpen])\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault()\r\n    onUpdateAvatar({ avatar: avatarRef.current.value })\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm id=\"popup-avatar\" name=\"avatar-form\" title=\"Обновить аватар\" formID=\"\"\r\n                   btnText = 'Сохранить' isOpen={isOpen} onClose={onClose} onSubmit={handleSubmit}>\r\n      <fieldset className=\"popup__fieldset\">\r\n        <label className=\"popup__label\" htmlFor=\"avatar-input\">\r\n          <input\r\n            className=\"popup__input\"\r\n            id=\"avatar-input\"\r\n            name=\"avatar\"\r\n            type=\"url\"\r\n            placeholder=\"Ссылка на аватар\"\r\n            required=\"\"\r\n            ref={avatarRef}\r\n          />\r\n          <span className=\"popup__error\" id=\"avatar-input-error\"/>\r\n        </label>\r\n      </fieldset>\r\n    </PopupWithForm>\r\n  )\r\n}\r\nexport default EditAvatarPopup","import React, {useEffect, useState} from 'react'\r\nimport PopupWithForm from './PopupWithForm'\r\n\r\nfunction AddPlacePopup({isOpen, onClose, onAddPlace}) {\r\n  const [placeName, setPlaceName] = useState('')\r\n  const [placeLink, setPlaceLink] = useState('')\r\n\r\n  //clear fields\r\n  useEffect( () => {\r\n    setPlaceName('')\r\n    setPlaceLink('')\r\n  }, [isOpen])\r\n\r\n  function handleName(e) {setPlaceName(e.target.value)}\r\n  function handleLink(e) {setPlaceLink(e.target.value)}\r\n  function handleSubmit (e){\r\n    e.preventDefault()\r\n    onAddPlace({name: placeName, link: placeLink})\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm id=\"popup-add\" name=\"card-form\" title=\"Новое место\" formID=\"new-cards\"\r\n                   btnText = 'Создать' isOpen={isOpen} onClose={onClose} onSubmit={handleSubmit}>\r\n      <fieldset className=\"popup__fieldset\">\r\n        <label htmlFor=\"card-name\" className=\"popup__label\">\r\n          <input className=\"popup__input\" type=\"text\" id=\"card-name\" name=\"title\" placeholder=\"Название\"\r\n                 minLength={1} maxLength={30} required=\"\" onChange={handleName} value={placeName || ''}/>\r\n          <span className=\"popup__error\" id=\"card-name-error\"/>\r\n        </label>\r\n        <label htmlFor=\"card-link\" className=\"popup__label\">\r\n          <input className=\"popup__input\" type=\"url\" id=\"card-link\" name=\"link\" placeholder=\"Ссылка на картинку\"\r\n                 required=\"\" onChange={handleLink} value={placeLink || ''}/>\r\n          <span className=\"popup__error\" id=\"card-link-error\"/>\r\n        </label>\r\n      </fieldset>\r\n    </PopupWithForm>\r\n  )\r\n}\r\n\r\nexport default AddPlacePopup","import React from 'react'\r\nimport { Navigate} from 'react-router-dom'\r\n\r\nconst ProtectedRoute = ({ element: Component, ...props }) => {\r\n  return (\r\n      props.isLoggedIn ? < Component { ...props } /> : < Navigate to='/sign-in' replace />\r\n  )\r\n}\r\n\r\nexport default ProtectedRoute","import React, { useState } from 'react'\r\n\r\nfunction Login ({onLogin}) {\r\n  const [email, setEmail] = useState('')\r\n  const [password, setPassword] = useState('')\r\n\r\n  function handleEmail(e) {setEmail(e.target.value)}\r\n  function handlePassword(e) {setPassword(e.target.value)}\r\n  function handleSubmitButton (e) {\r\n    e.preventDefault()\r\n    onLogin(email, password)\r\n    setEmail('')\r\n    setPassword('')\r\n  }\r\n\r\n  return (\r\n      <div className=\"auth\">\r\n        <h3 className=\"auth__title\">Вход</h3>\r\n        <form className=\"popup__form\" onSubmit={handleSubmitButton}>\r\n          <label className=\"auth__label\" htmlFor=\"email-value\">\r\n            <input className=\"auth__input\" id=\"email-value\" type=\"email\" value={email || ''} name=\"email\"\r\n                   placeholder=\"Email\" minLength=\"6\" maxLength=\"20\" required onChange={handleEmail} />\r\n            <span className=\"popup__error\" id=\"auth-login-email-input-error\"/>\r\n          </label>\r\n          <label className=\"auth__label\" htmlFor=\"password-value\">\r\n            <input className=\"auth__input\" id=\"password-value\" type=\"password\" value={password || ''} name=\"password\"\r\n                   placeholder=\"Пароль\" minLength=\"6\" maxLength=\"20\" required onChange={handlePassword}/>\r\n            <span className=\"popup__error\" id=\"auth-login-password-input-error\"/>\r\n          </label>\r\n          <button className=\"auth__save-btn\" type=\"submit\" aria-label=\"Войти\">Войти</button>\r\n        </form>\r\n      </div>\r\n  )\r\n}\r\n\r\nexport default Login","import React, { useState } from 'react'\r\nimport { Link } from 'react-router-dom'\r\n\r\nfunction Register ({onRegister}) {\r\n  const [email, setEmail] = useState('')\r\n  const [password, setPassword] = useState('')\r\n\r\n  function handleEmail(e) {setEmail(e.target.value)}\r\n  function handlePassword(e) {setPassword(e.target.value)}\r\n  function handleSubmitButton(e) {\r\n    e.preventDefault()\r\n    onRegister(password, email)\r\n    setEmail('')\r\n    setPassword('')\r\n  }\r\n\r\n  return (\r\n      <div className=\"auth\">\r\n        <h3 className=\"auth__title\">Регистрация</h3>\r\n        <form className=\"popup__form\" onSubmit={ handleSubmitButton }>\r\n          <label className=\"auth__label\" htmlFor=\"email-value\">\r\n            <input className=\"auth__input\" id=\"email-value\" type=\"email\" onChange={handleEmail}\r\n                   name=\"email\" placeholder=\"Email\" minLength=\"6\" maxLength=\"20\" required value={email || ''}/>\r\n            <span className=\"popup__error\" id=\"auth-register-email-input-error\"/>\r\n          </label>\r\n          <label className=\"auth__label\" htmlFor=\"password-value\">\r\n            <input className=\"auth__input\" id=\"password-value\" type=\"password\" onChange={handlePassword}\r\n                   name=\"password\" placeholder=\"Пароль\" minLength=\"6\" maxLength=\"20\" required value={password || ''}/>\r\n            <span className=\"popup__error\" id=\"auth-register-password-input-error\" />\r\n          </label>\r\n          <button className=\"auth__save-btn\" type=\"submit\" aria-label=\"Зарегистрироваться\">Зарегистрироваться</button>\r\n        </form>\r\n        <div className='auth__go-to-login'>\r\n          <p>Уже зарегистрированы?</p>\r\n          <Link className=\"auth__link\" to=\"/sign-in\">Войти</Link>\r\n        </div>\r\n      </div>\r\n  )\r\n}\r\n\r\nexport default Register","import React from 'react'\r\nimport tickIcon from '../images/tickIcon.svg'\r\nimport crossIcon from '../images/crossIcon.svg'\r\n\r\n//popup of authorization_status\r\nfunction InfoTooltip({isOpen, onClose, isAuthorized}) {\r\n  return (\r\n    <div className={`popup ${isOpen ? 'popup_opened' : ''}`}>\r\n      <div className=\"popup__container\">\r\n        <button className=\"popup__close-btn\" type=\"button\" onClick={onClose}/>\r\n        <div className=\"auth__tooltip\">\r\n          {isAuthorized ? (\r\n            <>\r\n              <img className=\"auth__tooltip-icon\" src={tickIcon} alt=\"Иконка галочка\" />\r\n              <p className=\"auth__tooltip-text\">Вы успешно зарегистрировались!</p>\r\n            </>\r\n          ) : (\r\n            <>\r\n              <img className=\"auth__tooltip-icon\" src={crossIcon} alt=\"Иконка крестик\" />\r\n              <p className=\"auth__tooltip-text\">Что-то пошло не так! Попробуйте ещё раз.</p>\r\n            </>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default InfoTooltip","class Api {\r\n  constructor(options) {\r\n    this._url = options.baseUrl\r\n    this._headers = options.headers\r\n  }\r\n\r\n//to avoid double-coding in methods below\r\n  _handleServerResponse(res) {\r\n    if (res.ok) {\r\n      return res.json()\r\n    } else {\r\n      return Promise.reject(`There is following server error: ${res.status}`)\r\n    }\r\n  }\r\n\r\n  getInitialCards() {\r\n    return fetch(`${this._url}cards`, {\r\n      method: 'GET',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        authorization: `Bearer ${ localStorage.getItem('token') }`,\r\n      }\r\n    })\r\n      .then(res => {return this._handleServerResponse(res)})\r\n  }\r\n\r\n  getUserData() {\r\n    return fetch(`${this._url}users/me`, {\r\n      method: 'GET',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        authorization: `Bearer ${ localStorage.getItem('token') }`,\r\n      }\r\n    })\r\n      .then(res => {return this._handleServerResponse(res)})\r\n  }\r\n\r\n  sendUserData(profileInputsData) {\r\n    return fetch(`${this._url}users/me`, {\r\n      method: 'PATCH',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        authorization: `Bearer ${ localStorage.getItem('token') }`,\r\n      },\r\n      body: JSON.stringify({\r\n        name: profileInputsData.name,\r\n        about: profileInputsData.about })\r\n    })\r\n      .then(res => {return this._handleServerResponse(res)})\r\n  }\r\n\r\n  addNewCard({ name, link }) {\r\n    return fetch(`${this._url}cards`, {\r\n      method: \"POST\",\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        authorization: `Bearer ${ localStorage.getItem('token') }`,\r\n      },\r\n      body: JSON.stringify({name, link})\r\n    })\r\n      .then(res => {return this._handleServerResponse(res)})\r\n  }\r\n\r\n  deleteCard(cardId) {\r\n    return fetch(`${this._url}cards/${cardId}`, {\r\n      method: 'DELETE',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        authorization: `Bearer ${ localStorage.getItem('token') }`,\r\n      },\r\n    })\r\n      .then(res => {return this._handleServerResponse(res)})\r\n  }\r\n\r\n  sendAvatarLink(avatarLink) {\r\n    return fetch(`${this._url}users/me/avatar`, {\r\n      method: 'PATCH',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        authorization: `Bearer ${ localStorage.getItem('token') }`,\r\n      },\r\n      body: JSON.stringify({\r\n        avatar: avatarLink.avatar\r\n      })\r\n    })\r\n      .then(res => {return this._handleServerResponse(res)})\r\n  }\r\n\r\n  addCardLike(cardId) {\r\n    return fetch(`${this._url}cards/${cardId}/likes`, {\r\n      method: 'PUT',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        authorization: `Bearer ${ localStorage.getItem('token') }`,\r\n      }\r\n    })\r\n      .then(res => {\r\n        console.log(cardId)\r\n        return this._handleServerResponse(res)\r\n      })\r\n  }\r\n\r\n  deleteCardLike(cardId) {\r\n    console.log(\"Deleting like from card with ID:\", cardId);\r\n    return fetch(`${this._url}cards/${cardId}/likes`, {\r\n      method: 'DELETE',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        authorization: `Bearer ${ localStorage.getItem('token') }`,\r\n      }\r\n    })\r\n      .then(res => {return this._handleServerResponse(res)})\r\n  }\r\n\r\n  changeLikeCardStatus (cardId, isLiked) {\r\n    if (isLiked) {\r\n      return fetch(`${this._url}cards/${cardId}/likes`, {\r\n        method: 'PUT',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n          authorization: `Bearer ${ localStorage.getItem('token') }`,\r\n        }\r\n      })\r\n        .then(res => { return this._handleServerResponse(res)})\r\n    } else {\r\n      return fetch(`${this._url}cards/${cardId}/likes`, {\r\n        method: 'DELETE',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n          authorization: `Bearer ${ localStorage.getItem('token') }`,\r\n        }\r\n      })\r\n        .then(res => { return this._handleServerResponse(res)})\r\n    }\r\n  }\r\n\r\n}\r\n\r\n////// TODO\r\nexport const api = new Api({\r\n  baseUrl: 'http://localhost:3000/',\r\n  headers: {\r\n    'Content-Type': 'application/json'\r\n  }\r\n})\r\n","class AuthApi {\r\n  constructor(authURL) {\r\n    this._url = authURL\r\n  }\r\n\r\n  //to avoid double-coding in methods below\r\n  _handleServerResponse(res) {\r\n    if (res.ok) {\r\n      return res.json()\r\n    } else {\r\n      return Promise.reject(`There is following server error: ${res.status}`)\r\n    }\r\n  }\r\n\r\n  // user registration on server\r\n  register(password, email) {\r\n    // console.log(password, email, this._url)\r\n    return fetch(`${this._url}/signup`, {\r\n      headers: {\r\n        'Content-Type': 'application/json'\r\n      },\r\n      method: 'POST',\r\n      body: JSON.stringify({password, email})\r\n    })\r\n      //we get res objet, which contains '_id' (jwt token) & 'email'\r\n      .then(res => {return this._handleServerResponse(res)})\r\n  }\r\n\r\n  // Check if user's email & password exists on server.\r\n  authorize(email, password) {\r\n    return fetch(`${this._url}/signin`, {\r\n      headers: {\r\n        'Content-Type': 'application/json'\r\n      },\r\n      method: 'POST',\r\n      body: JSON.stringify({email, password})\r\n    })\r\n      //we get res objet, which contains 'token'\r\n      .then(res => {return this._handleServerResponse(res)})\r\n  }\r\n\r\n  // Check existing token validity on server. This token check to be used in App.js during page rendering\r\n  // in order to redirect user to the necessary page.\r\n  checkToken(token){\r\n    return fetch(`${this._url}/users/me`, {\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        'Authorization': `Bearer ${token}`, //if token is valid\r\n      },\r\n      method: 'GET'\r\n    })\r\n      //we get res objet, which contains '_id' (jwt token) & 'email'\r\n      .then(res => {return this._handleServerResponse(res)})\r\n  }\r\n}\r\n////// TODO\r\n// export const authApi = new AuthApi('https://auth.nomoreparties.co')\r\nexport const authApi = new AuthApi('http://localhost:3000')\r\n","import React, {useEffect, useState} from 'react'\r\nimport {Navigate, Route, Routes, useNavigate} from 'react-router-dom'\r\nimport '../index.css'\r\nimport Header from './Header'\r\nimport Main from './Main'\r\nimport Footer from './Footer'\r\nimport ImagePopup from './ImagePopup'\r\nimport EditProfilePopup from './EditProfilePopup'\r\nimport EditAvatarPopup from './EditAvatarPopup'\r\nimport AddPlacePopup from './AddPlacePopup'\r\nimport ProtectedRoute from './ProtectedRoute'\r\nimport Login from './Login.js'\r\nimport Register from './Register.js'\r\nimport InfoTooltip from './InfoTooltip'\r\nimport {CurrentUserContext} from '../contexts/CurrentUserContext'\r\nimport {api} from '../utils/api'\r\nimport {authApi} from '../utils/authApi'\r\n\r\nfunction App() {\r\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = useState(false)\r\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = useState(false)\r\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = useState(false)\r\n  const [isImagePopupOpen, setIsImagePopupOpen] = useState(false)\r\n  const [selectedCard, setSelectedCard] = useState({})\r\n  const [cards, setCards] = useState([])\r\n  const [currentUser, setCurrentUser] = useState({}) // context variable\r\n  // PR12\r\n  const [isTooltipPopupOpen, setIsTooltipPopupOpen] = useState(false)\r\n  const [isLoggedIn, setIsLoggedIn] = useState(false)\r\n  const [email, setEmail] = useState('')\r\n  const [isAuthorized, setIsAuthorized] = useState(false) // for popup-Tooltip\r\n\r\n  const navigate = useNavigate()\r\n\r\n  // Existing token check to render correct path for earlier authorized user\r\n  useEffect(() => {\r\n    const existingToken = localStorage.getItem('token') // check if any tokens available in localstorage\r\n    if (existingToken) {\r\n      authApi.checkToken(existingToken) //if jwt valid get response obj with '_id' (jwt token) & 'email'\r\n        .then((res) => {\r\n          setEmail(res.email) //add email to header because user authorized earlier\r\n          setIsLoggedIn(true)      // redirect to content\r\n          navigate('/')\r\n        })\r\n        .catch((err) => {console.log(`There is an error in token verification, ${err}`)})\r\n    }\r\n  }, [isLoggedIn, navigate])\r\n\r\n  // To render initial cards and user data from server\r\n  useEffect(() => {\r\n    if (isLoggedIn) {\r\n      Promise.all([api.getUserData(), api.getInitialCards()])\r\n        .then(([userData, cards]) => {\r\n          setCurrentUser(userData)\r\n          setCards(cards)\r\n        })\r\n        .catch(err => console.log(\"There is an error:\", err))\r\n    }\r\n  }, [isLoggedIn])\r\n\r\n  const handleEditProfileClick = () => {\r\n    setIsEditProfilePopupOpen(true)\r\n  }\r\n\r\n  const handleAddPlaceClick = () => {\r\n    setIsAddPlacePopupOpen(true)\r\n  }\r\n\r\n  const handleEditAvatarClick = () => {\r\n    setIsEditAvatarPopupOpen(true)\r\n  }\r\n\r\n  const closeAllPopups = () => {\r\n    setIsEditProfilePopupOpen(false)\r\n    setIsAddPlacePopupOpen(false)\r\n    setIsEditAvatarPopupOpen(false)\r\n    setIsImagePopupOpen(false)\r\n    setIsTooltipPopupOpen(false)\r\n  }\r\n\r\n  const handleCardClick = (card) => {\r\n    setSelectedCard({\r\n      ...selectedCard,\r\n      name: card.name,\r\n      link: card.link\r\n    })\r\n    setIsImagePopupOpen(true)\r\n  }\r\n\r\n  function handleCardLike(card) {\r\n    // Снова проверяем, есть ли уже лайк на этой карточке\r\n    const isLiked = card.likes.some(i => i === currentUser._id)\r\n    // Отправляем запрос в API и получаем обновлённые данные карточки\r\n    console.log(isLiked)\r\n    api.changeLikeCardStatus(card._id, !isLiked).then((newCard) => {\r\n      setCards((state) => state.map((c) => c._id === card._id ? newCard : c))\r\n    })\r\n  }\r\n\r\n  function handleCardDelete(card) {\r\n    api.deleteCard(card._id)\r\n      .then(() => {setCards( (cards) => cards.filter((i) => i._id !== card._id))})\r\n      .catch((err) => {console.log(\"There is an error while deleting:\", err)})\r\n  }\r\n\r\n  function handleUpdateUser (profileInputsData) {\r\n    api.sendUserData({name: profileInputsData.name, about: profileInputsData.about})\r\n      .then((res) => {\r\n        setCurrentUser(res)\r\n        closeAllPopups()\r\n      })\r\n      .catch((err) => {console.log(\"There is an error while updating profile:\", err) })\r\n  }\r\n\r\n  function handleUpdateAvatar (avatarLink) {\r\n    api.sendAvatarLink(avatarLink)\r\n      .then((res) => {\r\n        setCurrentUser(res)\r\n        closeAllPopups()\r\n      })\r\n      .catch((err) => {console.log(\"There is an error while updating avatar:\", err) })\r\n  }\r\n\r\n  function handleAddPlaceSubmit ({name, link}) {\r\n    api.addNewCard({name: name, link: link})\r\n      .then((card) => {\r\n        setCards([card, ...cards])\r\n        closeAllPopups()\r\n      })\r\n      .catch((err) => {console.log(\"There is an error while adding place:\", err) })\r\n  }\r\n\r\n  ///////////// Closing by ESC and on overlay click\r\n  const isAnyPopupOpen =\r\n    isEditProfilePopupOpen ||\r\n    isAddPlacePopupOpen ||\r\n    isEditAvatarPopupOpen ||\r\n    isImagePopupOpen ||\r\n    isTooltipPopupOpen\r\n\r\n  useEffect(() => {\r\n    function handleEscClose(e) {\r\n      if (e.key === \"Escape\") {\r\n        closeAllPopups()\r\n      }\r\n    }\r\n    if (isAnyPopupOpen) {\r\n      document.addEventListener(\"keydown\", handleEscClose)\r\n      return () => {\r\n        document.removeEventListener(\"keydown\", handleEscClose)\r\n      }\r\n    }\r\n  }, [isAnyPopupOpen])\r\n\r\n  useEffect(() => {\r\n    function handleOverlayClose(e) {\r\n      if (e.target.classList.contains('popup_opened') || e.target.classList.contains('popup__close-btn')) {\r\n        closeAllPopups()\r\n      }\r\n    }\r\n    if (isAnyPopupOpen) {\r\n      document.addEventListener('mousedown', handleOverlayClose)\r\n      return () => {\r\n        document.removeEventListener(\"mousedown\", handleOverlayClose)\r\n      }\r\n    }\r\n  }, [isAnyPopupOpen])\r\n\r\n  //////////////////////////////////////////////\r\n  //PR12\r\n  //User registration - tooltip popup will show if authorized successfully\r\n  function handleRegister (password, email) {\r\n    authApi.register(password, email)\r\n      .then(() => {\r\n        setIsTooltipPopupOpen(true)\r\n        setIsAuthorized(true)\r\n        navigate('/sign-in')\r\n      })\r\n      .catch((err) => {\r\n        console.log(`There is an error while registering, ${err}`)\r\n        setIsTooltipPopupOpen(true)\r\n        setIsAuthorized(false)\r\n      })\r\n  }\r\n\r\n  //User login - tooltip popup will show if authorized successfully\r\n  function handleLogin (email, password) {\r\n    authApi.authorize(email, password)\r\n      .then((res) => {\r\n        // received res object, which contains 'token'\r\n        if (res.token) {\r\n          localStorage.setItem('token', res.token) // save token in localstorage\r\n          setEmail(email)\r\n          setIsLoggedIn(true)\r\n          navigate('/')\r\n        }\r\n      })\r\n      .catch((err) => {\r\n        console.log(`There is an error while logging in, ${err}`)\r\n        setIsTooltipPopupOpen(true)\r\n        setIsAuthorized(false)})\r\n  }\r\n\r\n  //Logout - removing token from localstorage\r\n  function handleLogOut(){\r\n    localStorage.removeItem('token')\r\n    setIsLoggedIn(false)\r\n    navigate('/login')\r\n  }\r\n\r\n  return (\r\n    <CurrentUserContext.Provider value={currentUser}> {/*  value to provide from App to below components */}\r\n      <Header isLoggedIn={isLoggedIn} logOut={handleLogOut} email={email} />\r\n      <Routes>\r\n        <Route exact\r\n               path=\"/\"\r\n               element={\r\n                 <ProtectedRoute\r\n                   element={Main}\r\n                   cards={cards}\r\n                   onEditProfile={handleEditProfileClick}\r\n                   onAddPlace={handleAddPlaceClick}\r\n                   onEditAvatar={handleEditAvatarClick}\r\n                   onCardClick={handleCardClick}\r\n                   onCardLike={handleCardLike}\r\n                   onCardDelete={handleCardDelete}\r\n                   isLoggedIn = {isLoggedIn}/>} />\r\n        <Route path=\"/sign-up\" element={<Register onRegister={handleRegister} />} />\r\n        <Route path=\"/sign-in\" element={<Login onLogin={handleLogin} />} />\r\n        <Route path=\"*\" element={<Navigate to=\"/sign-in\" replace />} />\r\n      </Routes>\r\n      <Footer />\r\n\r\n      {/*  Popup Edit */}\r\n      <EditProfilePopup isOpen={isEditProfilePopupOpen} onClose={closeAllPopups} onUpdateUser={handleUpdateUser}/>\r\n\r\n      {/*  Popup Add */}\r\n      <AddPlacePopup isOpen={isAddPlacePopupOpen} onClose={closeAllPopups} onAddPlace={handleAddPlaceSubmit}/>\r\n\r\n      {/*  Popup Image */}\r\n      <ImagePopup id=\"popup-image\" card={selectedCard} isOpen={isImagePopupOpen} onClose={closeAllPopups}/>\r\n\r\n      {/* Popup Card delete */}\r\n      <div className=\"popup\" id=\"popup-delete\">\r\n        <div className=\"popup__container\">\r\n          <button className=\"popup__close-btn\" type=\"button\"/>\r\n          <h2 className=\"popup__heading\">Вы уверены?</h2>\r\n          <form className=\"popup__form\" name=\"card-delete\" noValidate=\"\">\r\n            <button className=\"popup__save-btn\" type=\"submit\" aria-label=\"Подтвердить удаление\">Да</button>\r\n          </form>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Popup Avatar */}\r\n      <EditAvatarPopup isOpen={isEditAvatarPopupOpen} onClose={closeAllPopups} onUpdateAvatar={handleUpdateAvatar}/>\r\n\r\n      {/* Tooltip Popup */}\r\n      <InfoTooltip isOpen={isTooltipPopupOpen} onClose={closeAllPopups} isAuthorized={isAuthorized} />\r\n    </CurrentUserContext.Provider>\r\n  )\r\n}\r\n\r\nexport default App","import React from 'react'\r\nimport ReactDOM from 'react-dom/client'\r\nimport './index.css'\r\nimport App from './components/App'\r\nimport { BrowserRouter } from 'react-router-dom'\r\n\r\nconst root = ReactDOM.createRoot(document.getElementById('root'))\r\nroot.render(\r\n  <React.StrictMode>\r\n    {/*for npm run deploy use <BrowserRouter basename=\"/react-mesto-auth\"  > */}\r\n    <BrowserRouter >\r\n      <App />\r\n    </BrowserRouter>\r\n  </React.StrictMode>\r\n)\r\n"],"sourceRoot":""}