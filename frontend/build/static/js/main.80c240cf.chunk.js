(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{17:function(e,t,a){},20:function(e,t,a){e.exports=a.p+"static/media/logo.22335927.svg"},21:function(e,t,a){e.exports=a.p+"static/media/tickIcon.7fc4c149.svg"},22:function(e,t,a){e.exports=a.p+"static/media/crossIcon.c32299fa.svg"},24:function(e,t,a){e.exports=a(33)},33:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(18),c=a.n(o),l=(a(17),a(5)),i=a(19),s=a(3),u=a(1),m=a(7),p=a(20),d=a.n(p);var h=function(e){var t=e.isLoggedIn,a=e.logOut,n=e.email,o=Object(u.m)(),c="/sign-in"===o.pathname?"/sign-up":"/sign-in",l="/sign-in"===o.pathname?"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f":"\u0412\u043e\u0439\u0442\u0438";return r.a.createElement("header",{className:"header"},r.a.createElement(m.b,{className:"header__link",to:"/"},r.a.createElement("img",{className:"header__logo",src:d.a,alt:"\u043b\u043e\u0433\u043e\u0442\u0438\u043f \u043f\u0440\u043e\u0435\u043a\u0442\u0430 '\u041c\u0435\u0441\u0442\u043e'"})),r.a.createElement("div",{className:"header__auth"},t?r.a.createElement(r.a.Fragment,null,r.a.createElement("p",{className:"header__link"},n),r.a.createElement(m.b,{className:"header__link",to:"/sign-in",onClick:a},"\u0412\u044b\u0439\u0442\u0438")):r.a.createElement(m.b,{className:"header__link",to:c},l)))},_=Object(n.createContext)();var f=function(e){var t=Object(n.useContext)(_),a=e.card.owner===t._id,o=e.card.likes.some(function(e){return e===t._id});return r.a.createElement("li",{className:"element"},r.a.createElement("img",{className:"element__image",src:e.link,alt:e.name,onClick:function(){e.onCardClick(e.card)}}),a&&r.a.createElement("button",{className:"element__trash",type:"button","aria-label":"\u0443\u0434\u0430\u043b\u0438\u0442\u044c \u0444\u043e\u0442\u043e\u0433\u0440\u0430\u0444\u0438\u044e",onClick:function(){e.onCardDelete(e.card)}}),r.a.createElement("div",{className:"element__description"},r.a.createElement("h2",{className:"element__title"},e.name),r.a.createElement("div",{className:"element__likes"},r.a.createElement("button",{className:"element__like ".concat(o?"element__like_active":""),type:"button","aria-label":"\u043f\u043e\u0441\u0442\u0430\u0432\u0438\u0442\u044c \u043b\u0430\u0439\u043a",onClick:function(){e.onCardLike(e.card)}}),r.a.createElement("p",{className:"element__likes-counter"},e.likes))))};var v=function(e){var t=e.cards,a=e.onEditProfile,n=e.onAddPlace,o=e.onEditAvatar,c=e.onCardClick,l=e.onCardLike,i=e.onCardDelete,s=r.a.useContext(_);return r.a.createElement("main",{className:"main"},r.a.createElement("section",{className:"profile","aria-label":"\u041f\u0440\u043e\u0444\u0438\u043b\u044c \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f"},r.a.createElement("div",{className:"profile__avatar-zone"},r.a.createElement("img",{className:"profile__avatar-image",src:s.avatar,alt:"\u0410\u0432\u0430\u0442\u0430\u0440 \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f"}),r.a.createElement("button",{className:"profile__avatar-edit-btn",type:"button","aria-label":"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0430\u0432\u0430\u0442\u0430\u0440",onClick:o})),r.a.createElement("div",{className:"profile__info"},r.a.createElement("h1",{className:"profile__name"},s.name),r.a.createElement("button",{className:"profile__edit-btn",type:"button","aria-label":"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043f\u0440\u043e\u0444\u0438\u043b\u044c",onClick:a}),r.a.createElement("p",{className:"profile__description"},s.about)),r.a.createElement("button",{className:"profile__add-btn",type:"button","aria-label":"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0444\u043e\u0442\u043e\u0433\u0440\u0430\u0444\u0438\u044e",onClick:n})),r.a.createElement("section",{className:"elements","aria-label":"\u0413\u0430\u043b\u0435\u0440\u0435\u044f \u0444\u043e\u0442\u043e\u0433\u0440\u0430\u0444\u0438\u0439 \u0438\u043d\u0442\u0435\u0440\u0435\u0441\u043d\u044b\u0445 \u043c\u0435\u0441\u0442 \u0432 \u0420\u043e\u0441\u0441\u0438\u0438"},r.a.createElement("div",null),r.a.createElement("ul",{className:"elements-grid"},t.map(function(e){return r.a.createElement(f,{card:e,key:e._id,link:e.link,name:e.name,likes:e.likes.length,onCardClick:c,onCardLike:l,onCardDelete:i})}))))};var b=function(){return r.a.createElement("footer",{className:"footer"},r.a.createElement("p",{className:"footer__copyright"},"\xa9 2023 Mesto Russia"))};var E=function(e){var t=e.card,a=e.id,n=e.isOpen,o=e.onClose;return r.a.createElement("div",{className:"popup popup_dark-overlay ".concat(n?"popup_opened":""),id:a},r.a.createElement("div",{className:"popup__container-image"},r.a.createElement("img",{className:"popup__image",src:t.link,alt:t.name}),r.a.createElement("p",{className:"popup__image-caption"},t.name),r.a.createElement("button",{className:"popup__close-btn",type:"button",onClick:o})))};var g=function(e){return r.a.createElement("div",{className:"popup ".concat(e.isOpen?"popup_opened":""),id:e.id},r.a.createElement("div",{className:"popup__container"},r.a.createElement("button",{className:"popup__close-btn",type:"button",onClick:e.onClose}),r.a.createElement("h2",{className:"popup__heading"},e.title),r.a.createElement("form",{className:"popup__form",name:e.name,id:e.formID,onSubmit:e.onSubmit},e.children,r.a.createElement("button",{className:"popup__create-btn popup__save-btn",type:"submit","aria-label":e.title},e.btnText||"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"))))};var k=function(e){var t=e.isOpen,a=e.onClose,o=e.onUpdateUser,c=Object(n.useContext)(_),l=Object(n.useState)(""),i=Object(s.a)(l,2),u=i[0],m=i[1],p=Object(n.useState)(""),d=Object(s.a)(p,2),h=d[0],f=d[1];return Object(n.useEffect)(function(){m(c.name),f(c.about)},[c,t]),r.a.createElement(g,{id:"popup-edit",name:"profile-form",title:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043f\u0440\u043e\u0444\u0438\u043b\u044c",formID:"profile",btnText:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c",isOpen:t,onClose:a,onSubmit:function(e){e.preventDefault(),o({name:u,about:h})}},r.a.createElement("fieldset",{className:"popup__fieldset"},r.a.createElement("label",{className:"popup__label",htmlFor:"profile-name"},r.a.createElement("input",{className:"popup__input",type:"text",id:"profile-name",name:"name",placeholder:"\u0424\u0418\u041e",minLength:2,maxLength:40,required:"",value:u||"",onChange:function(e){m(e.target.value)}}),r.a.createElement("span",{className:"popup__error",id:"profile-name-error"})),r.a.createElement("label",{className:"popup__label",htmlFor:"profile-description"},r.a.createElement("input",{className:"popup__input",type:"text",id:"profile-description",name:"description",placeholder:"\u041f\u0440\u043e\u0444\u0435\u0441\u0441\u0438\u044f",minLength:2,maxLength:200,required:"",value:h||"",onChange:function(e){f(e.target.value)}}),r.a.createElement("span",{className:"popup__error",id:"profile-description-error"}))))};var N=function(e){var t=e.isOpen,a=e.onClose,o=e.onUpdateAvatar,c=Object(n.useRef)();return Object(n.useEffect)(function(){c.current.value=""},[t]),r.a.createElement(g,{id:"popup-avatar",name:"avatar-form",title:"\u041e\u0431\u043d\u043e\u0432\u0438\u0442\u044c \u0430\u0432\u0430\u0442\u0430\u0440",formID:"",btnText:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c",isOpen:t,onClose:a,onSubmit:function(e){e.preventDefault(),o({avatar:c.current.value})}},r.a.createElement("fieldset",{className:"popup__fieldset"},r.a.createElement("label",{className:"popup__label",htmlFor:"avatar-input"},r.a.createElement("input",{className:"popup__input",id:"avatar-input",name:"avatar",type:"url",placeholder:"\u0421\u0441\u044b\u043b\u043a\u0430 \u043d\u0430 \u0430\u0432\u0430\u0442\u0430\u0440",required:"",ref:c}),r.a.createElement("span",{className:"popup__error",id:"avatar-input-error"}))))};var O=function(e){var t=e.isOpen,a=e.onClose,o=e.onAddPlace,c=Object(n.useState)(""),l=Object(s.a)(c,2),i=l[0],u=l[1],m=Object(n.useState)(""),p=Object(s.a)(m,2),d=p[0],h=p[1];return Object(n.useEffect)(function(){u(""),h("")},[t]),r.a.createElement(g,{id:"popup-add",name:"card-form",title:"\u041d\u043e\u0432\u043e\u0435 \u043c\u0435\u0441\u0442\u043e",formID:"new-cards",btnText:"\u0421\u043e\u0437\u0434\u0430\u0442\u044c",isOpen:t,onClose:a,onSubmit:function(e){e.preventDefault(),o({name:i,link:d})}},r.a.createElement("fieldset",{className:"popup__fieldset"},r.a.createElement("label",{htmlFor:"card-name",className:"popup__label"},r.a.createElement("input",{className:"popup__input",type:"text",id:"card-name",name:"title",placeholder:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435",minLength:1,maxLength:30,required:"",onChange:function(e){u(e.target.value)},value:i||""}),r.a.createElement("span",{className:"popup__error",id:"card-name-error"})),r.a.createElement("label",{htmlFor:"card-link",className:"popup__label"},r.a.createElement("input",{className:"popup__input",type:"url",id:"card-link",name:"link",placeholder:"\u0421\u0441\u044b\u043b\u043a\u0430 \u043d\u0430 \u043a\u0430\u0440\u0442\u0438\u043d\u043a\u0443",required:"",onChange:function(e){h(e.target.value)},value:d||""}),r.a.createElement("span",{className:"popup__error",id:"card-link-error"}))))},C=a(23),j=function(e){var t=e.element,a=Object(C.a)(e,["element"]);return a.isLoggedIn?r.a.createElement(t,a):r.a.createElement(u.a,{to:"/sign-in",replace:!0})};var y=function(e){var t=e.onLogin,a=Object(n.useState)(""),o=Object(s.a)(a,2),c=o[0],l=o[1],i=Object(n.useState)(""),u=Object(s.a)(i,2),m=u[0],p=u[1];return r.a.createElement("div",{className:"auth"},r.a.createElement("h3",{className:"auth__title"},"\u0412\u0445\u043e\u0434"),r.a.createElement("form",{className:"popup__form",onSubmit:function(e){e.preventDefault(),t(c,m),l(""),p("")}},r.a.createElement("label",{className:"auth__label",htmlFor:"email-value"},r.a.createElement("input",{className:"auth__input",id:"email-value",type:"email",value:c||"",name:"email",placeholder:"Email",minLength:"6",maxLength:"20",required:!0,onChange:function(e){l(e.target.value)}}),r.a.createElement("span",{className:"popup__error",id:"auth-login-email-input-error"})),r.a.createElement("label",{className:"auth__label",htmlFor:"password-value"},r.a.createElement("input",{className:"auth__input",id:"password-value",type:"password",value:m||"",name:"password",placeholder:"\u041f\u0430\u0440\u043e\u043b\u044c",minLength:"6",maxLength:"20",required:!0,onChange:function(e){p(e.target.value)}}),r.a.createElement("span",{className:"popup__error",id:"auth-login-password-input-error"})),r.a.createElement("button",{className:"auth__save-btn",type:"submit","aria-label":"\u0412\u043e\u0439\u0442\u0438"},"\u0412\u043e\u0439\u0442\u0438")))};var S=function(e){var t=e.onRegister,a=Object(n.useState)(""),o=Object(s.a)(a,2),c=o[0],l=o[1],i=Object(n.useState)(""),u=Object(s.a)(i,2),p=u[0],d=u[1];return r.a.createElement("div",{className:"auth"},r.a.createElement("h3",{className:"auth__title"},"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"),r.a.createElement("form",{className:"popup__form",onSubmit:function(e){e.preventDefault(),t(p,c),l(""),d("")}},r.a.createElement("label",{className:"auth__label",htmlFor:"email-value"},r.a.createElement("input",{className:"auth__input",id:"email-value",type:"email",onChange:function(e){l(e.target.value)},name:"email",placeholder:"Email",minLength:"6",maxLength:"20",required:!0,value:c||""}),r.a.createElement("span",{className:"popup__error",id:"auth-register-email-input-error"})),r.a.createElement("label",{className:"auth__label",htmlFor:"password-value"},r.a.createElement("input",{className:"auth__input",id:"password-value",type:"password",onChange:function(e){d(e.target.value)},name:"password",placeholder:"\u041f\u0430\u0440\u043e\u043b\u044c",minLength:"6",maxLength:"20",required:!0,value:p||""}),r.a.createElement("span",{className:"popup__error",id:"auth-register-password-input-error"})),r.a.createElement("button",{className:"auth__save-btn",type:"submit","aria-label":"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f"},"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f")),r.a.createElement("div",{className:"auth__go-to-login"},r.a.createElement("p",null,"\u0423\u0436\u0435 \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u044b?"),r.a.createElement(m.b,{className:"auth__link",to:"/sign-in"},"\u0412\u043e\u0439\u0442\u0438")))},T=a(21),L=a.n(T),w=a(22),I=a.n(w);var x=function(e){var t=e.isOpen,a=e.onClose,n=e.isAuthorized;return r.a.createElement("div",{className:"popup ".concat(t?"popup_opened":"")},r.a.createElement("div",{className:"popup__container"},r.a.createElement("button",{className:"popup__close-btn",type:"button",onClick:a}),r.a.createElement("div",{className:"auth__tooltip"},n?r.a.createElement(r.a.Fragment,null,r.a.createElement("img",{className:"auth__tooltip-icon",src:L.a,alt:"\u0418\u043a\u043e\u043d\u043a\u0430 \u0433\u0430\u043b\u043e\u0447\u043a\u0430"}),r.a.createElement("p",{className:"auth__tooltip-text"},"\u0412\u044b \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043b\u0438\u0441\u044c!")):r.a.createElement(r.a.Fragment,null,r.a.createElement("img",{className:"auth__tooltip-icon",src:I.a,alt:"\u0418\u043a\u043e\u043d\u043a\u0430 \u043a\u0440\u0435\u0441\u0442\u0438\u043a"}),r.a.createElement("p",{className:"auth__tooltip-text"},"\u0427\u0442\u043e-\u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a! \u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0435\u0449\u0451 \u0440\u0430\u0437.")))))},D=a(6),R=a(8),P=new(function(){function e(t){Object(D.a)(this,e),this._url=t.baseUrl,this._headers=t.headers}return Object(R.a)(e,[{key:"_handleServerResponse",value:function(e){return e.ok?e.json():Promise.reject("There is following server error: ".concat(e.status))}},{key:"getInitialCards",value:function(){var e=this;return fetch("".concat(this._url,"cards"),{method:"GET",headers:{"Content-Type":"application/json",authorization:"Bearer ".concat(localStorage.getItem("token"))}}).then(function(t){return e._handleServerResponse(t)})}},{key:"getUserData",value:function(){var e=this;return fetch("".concat(this._url,"users/me"),{method:"GET",headers:{"Content-Type":"application/json",authorization:"Bearer ".concat(localStorage.getItem("token"))}}).then(function(t){return e._handleServerResponse(t)})}},{key:"sendUserData",value:function(e){var t=this;return fetch("".concat(this._url,"users/me"),{method:"PATCH",headers:{"Content-Type":"application/json",authorization:"Bearer ".concat(localStorage.getItem("token"))},body:JSON.stringify({name:e.name,about:e.about})}).then(function(e){return t._handleServerResponse(e)})}},{key:"addNewCard",value:function(e){var t=this,a=e.name,n=e.link;return fetch("".concat(this._url,"cards"),{method:"POST",headers:{"Content-Type":"application/json",authorization:"Bearer ".concat(localStorage.getItem("token"))},body:JSON.stringify({name:a,link:n})}).then(function(e){return t._handleServerResponse(e)})}},{key:"deleteCard",value:function(e){var t=this;return fetch("".concat(this._url,"cards/").concat(e),{method:"DELETE",headers:{"Content-Type":"application/json",authorization:"Bearer ".concat(localStorage.getItem("token"))}}).then(function(e){return t._handleServerResponse(e)})}},{key:"sendAvatarLink",value:function(e){var t=this;return fetch("".concat(this._url,"users/me/avatar"),{method:"PATCH",headers:{"Content-Type":"application/json",authorization:"Bearer ".concat(localStorage.getItem("token"))},body:JSON.stringify({avatar:e.avatar})}).then(function(e){return t._handleServerResponse(e)})}},{key:"addCardLike",value:function(e){var t=this;return fetch("".concat(this._url,"cards/").concat(e,"/likes"),{method:"PUT",headers:{"Content-Type":"application/json",authorization:"Bearer ".concat(localStorage.getItem("token"))}}).then(function(a){return console.log(e),t._handleServerResponse(a)})}},{key:"deleteCardLike",value:function(e){var t=this;return console.log("Deleting like from card with ID:",e),fetch("".concat(this._url,"cards/").concat(e,"/likes"),{method:"DELETE",headers:{"Content-Type":"application/json",authorization:"Bearer ".concat(localStorage.getItem("token"))}}).then(function(e){return t._handleServerResponse(e)})}},{key:"changeLikeCardStatus",value:function(e,t){var a=this;return t?fetch("".concat(this._url,"cards/").concat(e,"/likes"),{method:"PUT",headers:{"Content-Type":"application/json",authorization:"Bearer ".concat(localStorage.getItem("token"))}}).then(function(e){return a._handleServerResponse(e)}):fetch("".concat(this._url,"cards/").concat(e,"/likes"),{method:"DELETE",headers:{"Content-Type":"application/json",authorization:"Bearer ".concat(localStorage.getItem("token"))}}).then(function(e){return a._handleServerResponse(e)})}}]),e}())({baseUrl:"http://localhost:3000/",headers:{"Content-Type":"application/json"}}),z=new(function(){function e(t){Object(D.a)(this,e),this._url=t}return Object(R.a)(e,[{key:"_handleServerResponse",value:function(e){return e.ok?e.json():Promise.reject("There is following server error: ".concat(e.status))}},{key:"register",value:function(e,t){var a=this;return fetch("".concat(this._url,"/signup"),{headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify({password:e,email:t})}).then(function(e){return a._handleServerResponse(e)})}},{key:"authorize",value:function(e,t){var a=this;return fetch("".concat(this._url,"/signin"),{headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify({email:e,password:t})}).then(function(e){return a._handleServerResponse(e)})}},{key:"checkToken",value:function(e){var t=this;return fetch("".concat(this._url,"/users/me"),{headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)},method:"GET"}).then(function(e){return t._handleServerResponse(e)})}}]),e}())("http://localhost:3000");var A=function(){var e=Object(n.useState)(!1),t=Object(s.a)(e,2),a=t[0],o=t[1],c=Object(n.useState)(!1),m=Object(s.a)(c,2),p=m[0],d=m[1],f=Object(n.useState)(!1),g=Object(s.a)(f,2),C=g[0],T=g[1],L=Object(n.useState)(!1),w=Object(s.a)(L,2),I=w[0],D=w[1],R=Object(n.useState)({}),A=Object(s.a)(R,2),U=A[0],B=A[1],F=Object(n.useState)([]),q=Object(s.a)(F,2),J=q[0],G=q[1],H=Object(n.useState)({}),M=Object(s.a)(H,2),V=M[0],K=M[1],Q=Object(n.useState)(!1),W=Object(s.a)(Q,2),X=W[0],Y=W[1],Z=Object(n.useState)(!1),$=Object(s.a)(Z,2),ee=$[0],te=$[1],ae=Object(n.useState)(""),ne=Object(s.a)(ae,2),re=ne[0],oe=ne[1],ce=Object(n.useState)(!1),le=Object(s.a)(ce,2),ie=le[0],se=le[1],ue=Object(u.o)();Object(n.useEffect)(function(){var e=localStorage.getItem("token");e&&z.checkToken(e).then(function(e){oe(e.email),te(!0),ue("/")}).catch(function(e){console.log("There is an error in token verification, ".concat(e))})},[ee,ue]),Object(n.useEffect)(function(){ee&&Promise.all([P.getUserData(),P.getInitialCards()]).then(function(e){var t=Object(s.a)(e,2),a=t[0],n=t[1];K(a),G(n)}).catch(function(e){return console.log("There is an error:",e)})},[ee]);var me=function(){o(!1),d(!1),T(!1),D(!1),Y(!1)},pe=a||p||C||I||X;return Object(n.useEffect)(function(){function e(e){"Escape"===e.key&&me()}if(pe)return document.addEventListener("keydown",e),function(){document.removeEventListener("keydown",e)}},[pe]),Object(n.useEffect)(function(){function e(e){(e.target.classList.contains("popup_opened")||e.target.classList.contains("popup__close-btn"))&&me()}if(pe)return document.addEventListener("mousedown",e),function(){document.removeEventListener("mousedown",e)}},[pe]),r.a.createElement(_.Provider,{value:V}," ",r.a.createElement(h,{isLoggedIn:ee,logOut:function(){localStorage.removeItem("token"),te(!1),ue("/login")},email:re}),r.a.createElement(u.d,null,r.a.createElement(u.b,{exact:!0,path:"/",element:r.a.createElement(j,{element:v,cards:J,onEditProfile:function(){o(!0)},onAddPlace:function(){d(!0)},onEditAvatar:function(){T(!0)},onCardClick:function(e){B(Object(i.a)({},U,{name:e.name,link:e.link})),D(!0)},onCardLike:function(e){var t=e.likes.some(function(e){return e===V._id});console.log(t),P.changeLikeCardStatus(e._id,!t).then(function(t){G(function(a){return a.map(function(a){return a._id===e._id?t:a})})})},onCardDelete:function(e){P.deleteCard(e._id).then(function(){G(function(t){return t.filter(function(t){return t._id!==e._id})})}).catch(function(e){console.log("There is an error while deleting:",e)})},isLoggedIn:ee})}),r.a.createElement(u.b,{path:"/sign-up",element:r.a.createElement(S,{onRegister:function(e,t){z.register(e,t).then(function(){Y(!0),se(!0),ue("/sign-in")}).catch(function(e){console.log("There is an error while registering, ".concat(e)),Y(!0),se(!1)})}})}),r.a.createElement(u.b,{path:"/sign-in",element:r.a.createElement(y,{onLogin:function(e,t){z.authorize(e,t).then(function(t){t.token&&(localStorage.setItem("token",t.token),oe(e),te(!0),ue("/"))}).catch(function(e){console.log("There is an error while logging in, ".concat(e)),Y(!0),se(!1)})}})}),r.a.createElement(u.b,{path:"*",element:r.a.createElement(u.a,{to:"/sign-in",replace:!0})})),r.a.createElement(b,null),r.a.createElement(k,{isOpen:a,onClose:me,onUpdateUser:function(e){P.sendUserData({name:e.name,about:e.about}).then(function(e){K(e),me()}).catch(function(e){console.log("There is an error while updating profile:",e)})}}),r.a.createElement(O,{isOpen:p,onClose:me,onAddPlace:function(e){var t=e.name,a=e.link;P.addNewCard({name:t,link:a}).then(function(e){G([e].concat(Object(l.a)(J))),me()}).catch(function(e){console.log("There is an error while adding place:",e)})}}),r.a.createElement(E,{id:"popup-image",card:U,isOpen:I,onClose:me}),r.a.createElement("div",{className:"popup",id:"popup-delete"},r.a.createElement("div",{className:"popup__container"},r.a.createElement("button",{className:"popup__close-btn",type:"button"}),r.a.createElement("h2",{className:"popup__heading"},"\u0412\u044b \u0443\u0432\u0435\u0440\u0435\u043d\u044b?"),r.a.createElement("form",{className:"popup__form",name:"card-delete",noValidate:""},r.a.createElement("button",{className:"popup__save-btn",type:"submit","aria-label":"\u041f\u043e\u0434\u0442\u0432\u0435\u0440\u0434\u0438\u0442\u044c \u0443\u0434\u0430\u043b\u0435\u043d\u0438\u0435"},"\u0414\u0430")))),r.a.createElement(N,{isOpen:C,onClose:me,onUpdateAvatar:function(e){P.sendAvatarLink(e).then(function(e){K(e),me()}).catch(function(e){console.log("There is an error while updating avatar:",e)})}}),r.a.createElement(x,{isOpen:X,onClose:me,isAuthorized:ie}))};c.a.createRoot(document.getElementById("root")).render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(m.a,null,r.a.createElement(A,null))))}},[[24,1,2]]]);
//# sourceMappingURL=main.80c240cf.chunk.js.map